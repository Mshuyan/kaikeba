1. Linux 中零拷贝技术主要有哪几个实现思路

   + 用户态直接 I/O：

     应用程序可以直接访问硬件存储，操作系统内核只是辅助数据传输。这种方式依旧存在用户空间和内核空间的上下文切换，硬件上的数据直接拷⻉至了用户空间，不经过内核空间。因此，直接 I/O 不存在内核空间缓冲区和用户空间缓冲区之间的数据拷⻉。

   + 减少数据拷⻉次数：

     在数据传输过程中，避免数据在用户空间缓冲区和系统内核空间缓冲区之间的CPU拷⻉，以及数据在系统内核空间内的CPU拷⻉，这也是当前主流零拷⻉技术的实现思路。

   + 写时复制技术：

     写时复制指的是当多个进程共享同一块数据时，如果其中一个进程需要对这份数据进行修改，那么将其拷⻉到自己的进程地址空间中，如果只是数据读取操作则不需要进行拷⻉操作

2. mmap 和 sendFile 的区别

   + mmap适合小数据量读写，sendFile适合大文件传输。
   + mmap需要4次上下文切换，3次数据拷⻉；sendFile需要3次上下文切换，最少2次数据拷⻉。sendfile(socket_fd, file_fd, len);
   + sendFile可以利用DMA方式，减少CPU拷⻉，mmap则不能（必须从内核拷⻉到Socket缓冲区

3. 列举原生 NIO 存在的问题(至少3条)

   + 编程复杂
   + epoll存在空轮询bug会导致cpu飙升
   + 自行实现的NIO容易出现很多bug

